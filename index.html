<!doctype html>
<html>
<head>
<meta charset="utf-8">
    
<link href="css/animate.css" rel="stylesheet" type="text/css">
<link href="css/materialize.css" rel="stylesheet" type="text/css">
<link href="css/main.css" rel="stylesheet" type="text/css">
    
<script src="js/map.js"></script>

<script src="js/jquery.min.js"></script>
<script src="cordova.js"></script>
<script src="js/materialize.js"></script>
<script src="js/preventreload.js"></script>
<script src="js/main.js"></script>

<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

<script type="text/javascript">
    
document.addEventListener("deviceready", onDeviceReady, false);

function onDeviceReady() {
screen.lockOrientation('portrait');
}

$(document).ready(function() {
    $('select').material_select();
});

</script>

</head>

<body id="body">
    
<div id="view_start">
<img id="logo" src="icon.png">
<br><br>
<a id="login_btn" class="waves-effect waves-light btn taxi250">Partner-Login</a>
<br><br>
<a id="login_btn_register" class="waves-effect waves-light btn taxi250">Register</a>
<br><br>
<a id="login_admin_btn" class="waves-effect waves-light btn white grey-text">Admin-Login</a>
</div>
    
<div id="view_login">
    
<form id="login_form" action="javascript:login_form_go();" class="col s12">
    
<div class="row">
      <div class="col s12 m5">
        <div class="card-panel white">
          
<div class="input-field col s12">
    <select id="partner_type" required="" aria-required="true">
      <option value="" disabled selected>Choose partner type</option>
      <option value="TX_">Taxi</option>
      <option value="CR_">Courier</option>
      <option value="MO_">Moto</option>
    </select>
</div>
            
<div class="input-field col s12">
          <input id="id_no" type="text" required="" aria-required="true" class="validate">
          <label for="id_no">ID No.</label>
</div>
            
<div class="input-field col s12">
          <input id="pin" type="number" required="" aria-required="true" maxlength = "4" pattern=".{4,}" class="validate">
          <label for="pin">PIN</label>
</div>
    
<a id="login_btn_go" class="waves-effect waves-light btn taxi250">Login</a>
            
        </div>
      </div>
    </div>
    
    </form>
    
<div class="row">
      <div class="col s12 m5">
        <div class="card-panel white">
        <img id="scan_qr" src="img/scan_qr.png">
          <a id="login_btn_go" class="waves-effect waves-light btn taxi250" onclick="scancode();">Scan QR-Code</a>  
        </div>
      </div>
    </div>
    
</div>
    
<div id="view_taxi_waiting">
    
<style>
#radar, #radar_offline {
    background-color: black;
    width: 100%;
    color: white;
}    
</style>
    
    <div id="radar"><br>
    <img src="img/220.gif" style="width:60%;"><br>
        Waiting for passengers...<br>You are visible!<br><br>
    </div>
    
    <div id="radar_offline" style="display:none;"><br>
    <img src="img/offline.png" style="width:60%;"><br>
        You have gone offline.<br>Passengers can't find you!<br><br>
    </div>
    
    <br><br>

<script>
    $(document).ready(function() {
        
        $( "#toggle_online_checkbox").prop('checked', true);
        
        $( "#toggle_online" ).click(function() {
        var toggle_online_checkedValue = document.getElementById('toggle_online_checkbox').checked;
        localStorage.setItem("toggle_online",toggle_online_checkedValue);
        set_online_status();
        });
    });
    
    function set_online_status() {
        var toggle_online = localStorage.getItem("toggle_online");
        // alert(toggle_online);
        if (toggle_online == "false") {
            document.getElementById("radar_offline").style.display = "block";
            document.getElementById("radar").style.display = "none";
        }
        if (toggle_online == "true") {
            document.getElementById("radar_offline").style.display = "none";
            document.getElementById("radar").style.display = "block";
        }
            
    }
</script>

    <!-- Switch -->
  <div id="toggle_online" class="switch">
    <label>
      Offline
      <input id="toggle_online_checkbox" type="checkbox">
      <span class="lever"></span>
      Online
    </label>
  </div>
    
    <br><br>
    <a onclick="location.reload();" class="waves-effect waves-light btn red">Logout</a>
    <br><br>
    
</div>

</body>
</html>